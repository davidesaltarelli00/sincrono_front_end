<!-- <html>



</html>

<html>
  <head>
    <title>Home</title>
  </head>
  <style>
    .sidebar {
      width: 250px;
      background-color: #333;
      color: #ffffff;
      height: 200vh;
      position: inherit;
    }

    /* Stile delle voci di menu nella sidebar */
    .sidebar-item {
      padding: 10px 20px;
      border-bottom: 1px solid #ffffff;
    }

    .sidebar-item:last-child {
      border-bottom: none;
    }

    .sidebar-link {
      text-decoration: none;
      color: #ffffff;
    }

    .sidebar-link:hover {
      color: #d8d8d8;
    }

    .content {
      flex: 1;
      padding: 20px;
    }

    .navbar {
      padding: 10px 20px;
    }

    .navbar-brand {
      font-weight: bold;
    }

    .navbar-nav {
      margin-left: auto;
    }

    .nav-link {
      color: #ffffff;
      text-decoration: none;
      margin-left: 10px;
    }

    .nav-link:hover {
      color: #d8d8d8;
    }

    .login-page .sidebar {
      display: none;
    }

    .example-container {
     width: 100%;
      height: 100%;
    }

    .spacer {
      flex: 1 1 auto;
    }

    mat-drawer{
      background-color: #333;
    }

    p{
      cursor: pointer;
    }

    mat-icon-button:hover{
    background-color: none;
    }

    mat-toolbar{
      background-color: #333;
      color: white;
    }

    </style>
  <body>
      <mat-toolbar>
        <a [routerLink]="['/home']" style="margin:5px; text-align: center;" > <img style="margin:5px; text-align: center;" width="40" height="40" src="../../../../assets/images/logo.jpeg" alt="Logo"> </a>
        <span> Sincrono CRM <button (click)="drawer.toggle()" mat-flat-button style="background-color: transparent; color: black;" > <mat-icon style="color: #ffffff;" >menu</mat-icon> </button> </span>

        <span class="spacer"></span>
        <span style="cursor: pointer;" id="icona" mat-icon-button (click)="logout()" [routerLink]="['/login']">
           <mat-icon>logout</mat-icon>
        </span>
      </mat-toolbar>
      <mat-drawer-container autosize class="example-container" >
        <mat-drawer #drawer class="example-sidenav" mode="side" opened>
          <div class="profile-box" (click)="profile()" style="text-align: center;
          color: white;
          font-weight: 400;
          border-bottom: 1px solid #f2f2f2; margin:auto;">
            <mat-icon>account_circle</mat-icon> <br>
            <p>{{userlogged}}</p>
              </div>
          <nav>
            <ul class="list-unstyled">
              <li class="sidebar-item">
                <p class="sidebar-link" [routerLink]="['/lista-anagrafica']">Lista anagrafiche</p>
              </li>
              <mat-divider></mat-divider>
              <li class="sidebar-item" [hidden]="role==='risorseumane' || role==='dipendente'" >
                <p class="sidebar-link"  [routerLink]="['/dashboard']">Dashboard</p>
              </li>
              <mat-divider></mat-divider>
              <li class="sidebar-item">
                <p class="sidebar-link" [routerLink]="['/organico']">Organico</p>
              </li>
              <mat-divider></mat-divider>
            </ul>
          </nav>
        </mat-drawer>
        <mat-drawer-content>

        </mat-drawer-content>

      </mat-drawer-container>

<script>
      const userLogged = localStorage.getItem('userLogged');
    if (userLogged) {
      this.userlogged = userLogged;
      }
</script>

  </body>
</html> -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div class="container-fluid">
    <h1>Dettaglio Anagrafica <button mat-flat-button color="primary" (click)="modificaAnagrafica()">Modifica anagrafica</button></h1>
    <!--
        <fieldset>
        <legend>Utente</legend>
        <div class="form-group">
            <label>Utente : </label>
            <input type="text" class="form-control" value="{{ data?.anagrafica?.utente?.username }}" readonly />
        </div>
    -->
    <div class="row">
        <div class="col-md-3">
            <label>Attivo:</label>
            <div class="form-group">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" [checked]="data?.anagrafica?.attivo === true"
                        disabled />
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <label>Ruolo:</label>
            <div class="form-group">
                <input  class="form-control" type="text" value="{{data?.ruolo?.nome}}"
                readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Azienda: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.anagrafica?.aziendaTipo }}" readonly />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <label for="nome">Nome: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.anagrafica?.nome }}" readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Cognome: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.anagrafica?.cognome }}" readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Codice Fiscale: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.anagrafica?.codiceFiscale }}" readonly />
            </div>
        </div>
    </div>
    <legend>Recapiti</legend>
    <div class="row">
        <div class="col-md-3">
            <label>Cellulare Privato: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.anagrafica?.cellularePrivato }}" readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Cellulare Aziendale: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.anagrafica?.cellulareAziendale }}" readonly />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <label>Email Privata: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.anagrafica?.mailPrivata}}" readonly />
            </div>
            <label>Email Pec: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.anagrafica?.mailPec }}" readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Email Aziendale: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.anagrafica?.mailAziendale}}" readonly />
            </div>

        </div>
    </div>
    <legend>Competenze</legend>
    <div class="row">
        <div class="col-md-3">
            <label>Titolo di Studio: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.anagrafica?.titoliDiStudio}}" readonly />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <label>Altri Titoli: </label>
            <div class="form-group">
                <p class="text-decoration-example">{{ data?.anagrafica?.altriTitoli }}</p>
            </div>
        </div>
    </div>
    <legend>Info Extra</legend>
    <div class="row">
        <div class="col-md-3">
            <label>Comune di Nascita: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.anagrafica?.comuneDiNascita }}" readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Residenza: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.anagrafica?.residenza }}" readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Domicilio: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.anagrafica?.domicilio }}" readonly />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <label>Data di Nascita: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ this.transformDate(data?.anagrafica?.dataDiNascita)}}"
                    readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Coniugato: </label>
            <div class="form-group">
                <input class="form-check-input" type="checkbox" [checked]="data?.anagrafica?.coniugato"
                    disabled="disabled" />
            </div>
        </div>
        <div class="col-md-3">
            <label>Figli a Carico: </label>
            <div class="form-group">
                <input class="form-check-input" type="checkbox" [checked]="data?.anagrafica?.figliACarico"
                    disabled="disabled" />
            </div>
        </div>
    </div>
    <!-----------contratto----------->
    <div class="row">

        <div class="col-md-3">
            <h1>Dettaglio Contratto</h1>
        </div>


        <div class="col-md-3">
            <button class="btn btn-dark btn-sm rounded-pill shadow-sm" style="background-color: rgb(24, 122, 0); color: white;"
            (click)="getStoricoContratti(data?.anagrafica.id)">storicoContratti</button>
        </div>

    </div>
    <legend>Dati Tipologici</legend>
    <div class="row">
        <div class="col-md-3">
            <label>Attivo: </label>
            <div class="form-group">
                <input class="form-check-input" type="checkbox" [checked]="data?.contratto?.attivo"
                    disabled="disabled" />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <label>Azienda : </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.contratto?.tipoAzienda?.descrizione }}"
                    readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Tipo Contratto : </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.contratto?.tipoContratto?.descrizione }}"
                    readonly />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <label>Livello Contratto : </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.contratto?.livelloContratto?.ccnl }}"
                    readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Contratto Nazionale : </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.contratto?.tipoCcnl?.descrizione }}"
                    readonly />
            </div>
        </div>
    </div>
    <legend>Dettagli</legend>
    <div class="row">
        <div class="col-md-3">
            <label>Qualifica: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.contratto?.qualifica }}" readonly />
            </div>
        </div>
        <div class="row">
            <div class="col-md-3">
                <label>Sede Assunzione: </label>
                <div class="form-group">
                    <input type="text" class="form-control" value="{{ data?.contratto?.sedeAssunzione }}" readonly />
                </div>
            </div>
            <div class="col-md-3">
                <label>Data Assunzione: </label>
                <div class="form-group">
                    <input type="text" class="form-control"
                        value="{{ this.transformDate(data?.contratto?.dataAssunzione) }}" readonly />
                </div>
            </div>
        </div>
    </div>
    <legend>Date</legend>
    <div class="row">
        <div class="col-md-3">
            <label>Data Inizio Prova: </label>
            <div class="form-group">
                <input type="text" class="form-control"
                    value="{{ this.transformDate(data?.contratto?.dataInizioProva) }}" readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Data Fine Prova: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ this.transformDate(data?.contratto?.dataFineProva) }}"
                    readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Data Fine Rapporto: </label>
            <div class="form-group">
                <input type="text" class="form-control"
                    value="{{ this.transformDate(data?.contratto?.dataFineRapporto) }}" readonly />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <label>Mesi Durata: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.contratto?.mesiDurata }}" readonly />
            </div>
        </div>
    </div>
    <legend>Livello Dipendente</legend>

    <div class="row">
        <div class="col-md-3">
            <div class="form-group">
                <label>Livello Iniziale: </label>
                <div class="form-group">
                    <input type="text" class="form-control" value="{{ data?.contratto?.livelloIniziale }}" readonly />
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <label>Livello Attuale: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.contratto?.livelloAttuale }}" readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Livello Finale: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.contratto?.livelloFinale }}" readonly />
            </div>
        </div>
    </div>
    <legend>Info Generali</legend>
    <div class="row">
        <div class="col-md-3">
            <label class="form-check-label">Dimissioni: </label>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" [checked]="data?.contratto?.dimissioni === true"
                    disabled />
            </div>
        </div>
        <div class="col-md-3">
            <label class="form-check-label">Part Time: </label>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" [checked]="data?.contratto?.partTime === true"
                    disabled />
            </div>
        </div>
        <div class="col-md-3">
            <label class="form-check-label">Part Time A: </label>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" [checked]="data?.contratto?.partTimeA === true"
                    disabled />
            </div>
        </div>
    </div>
    <legend>Retribuzione e Diaria</legend>

    <div class="row">
        <div class="col-md-3">
            <label>Retribuzione Mensile Lorda: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.contratto?.retribuzioneMensileLorda }}"
                    readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Superminimo Mensile: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.contratto?.superminimoMensile }}" readonly />
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-3">
            <label>RAL Annua: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.contratto?.ralAnnua }}" readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Supermionimo RAL: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.contratto?.superminimoRal }}" readonly />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <label>Diaria Mensile: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.contratto?.diariaMese }}" readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Diaria Giornaliera: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.contratto?.diariaGg }}" readonly />
            </div>
        </div>
    </div>
    <legend>Ticket e Aggevolazioni</legend>
    <div class="row">
        <div class="col-md-3">
            <label>Ticket: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.contratto?.ticket }}" readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Valore Ticket: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.contratto?.valoreTicket }}" readonly />
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <label class="form-check-label">Categoria Protetta: </label>
        <div class="form-check">
            <input class="form-check-input" type="checkbox" [checked]="data?.contratto?.categoriaProtetta === true"
                disabled />
        </div>
    </div>
    <legend>Altro</legend>
    <div class="row">
        <div class="col-md-3">
            <label>Tutor: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.contratto?.tutor }}" readonly />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <label>PFI: </label>
            <div class="form-group">
                <p class="text-decoration-example">{{ data?.contratto?.pfi }}</p>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <label>Corso di Sicurezza: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.contratto?.corsoSicurezza }}" readonly />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <label>Motivazione Fine Rapporto: </label>
            <div class="form-group">
                <p class="text-decoration-example">{{ data?.contratto?.motivazioneFineRapporto }}</p>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <label>Scatti Anzianita: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.contratto?.scattiAnzianita }}" readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>PC: </label>
            <div class="form-group">
                <input class="form-check-input" type="checkbox" [checked]="data?.contratto?.pc" disabled="disabled" />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="form-group">
            <label>Tariffa Partita IVA: </label>
            <div class="col-md-3">
                <input type="text" class="form-control" value="{{ data?.contratto?.tariffaPartitaIva }}" readonly />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <label>Canale Reclutamento: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.contratto?.canaleReclutamento }}" readonly />
            </div>
        </div>
    </div>
    <!---------commessa----------->

    <div class="row">
      <div class="col-12" [hidden]="data?.commesse.length!=0">
        <h1>Non sono presenti commesse.</h1>
      </div>
    </div>

    <div class="row" [hidden]="data?.commesse.length===0" >

        <div class="col-md-3">
            <h1>Dettaglio Commessa</h1>
        </div>


        <div class="col-md-3">
            <button class="btn btn-dark btn-sm rounded-pill shadow-sm" style="background-color: rgb(24, 122, 0); color: white;"
            (click)="getStoricoCommessa(data?.anagrafica.id)">Storico Commesse</button>
        </div>
    </div>

    <div class="row" [hidden]="data?.commesse.length===0">
      <div class="col-12">
        <table class="table table-bordered">
          <thead>
            <tr>
              <th>Attesa lavori</th>
              <th>Azienda</th>
              <th>Azienda fatturaz.interna</th>
              <th>Cliente</th>
              <th>Cliente finale</th>
              <th>Costo mese</th>
              <th>Data inizio</th>
              <th>Data fine</th>
              <th>Distacco</th>
              <th>Nominativo</th>
              <th>Stato</th>
              <th>Tariffa giornaliera</th>
              <th>Titolo posizione</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let commessa of data?.commesse; let i = index">
              <td *ngIf="commessa.attesaLavori">Si</td>
              <td *ngIf="!commessa.attesaLavori">No</td>
              <td>{{commessa.azienda}}</td>
              <td>{{commessa.aziendaDiFatturazioneInterna}}</td>
              <td>{{commessa.cliente}}</td>
              <td>{{commessa.clienteFinale}}</td>
              <td>{{commessa.costoMese}}</td>
              <td>{{commessa.dataInizio}}</td>
              <td>{{commessa.dataFine}}</td>
              <td>{{commessa.distacco}}</td>
              <td>{{commessa.nominativo}}</td>
              <td *ngIf="commessa.stato" >Attivo</td>
              <td *ngIf="!commessa.stato">Non attivo</td>
              <td>{{commessa.tariffaGiornaliera}}</td>
              <td>{{commessa.titoloPosizione}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="row">



        <!-- <div class="col-md-3">
            <label>Cliente: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.commessa?.cliente }}"
                    placeholder={{data?.cliente}} readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Cliente Finale: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.commessa?.clienteFinale }}" readonly />
            </div>
        </div> -->
    </div>
    <!-- <div class="row">
        <div class="col-md-3">
            <label>Titolo Posizione: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.commessa?.titoloPosizione  }}" readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Distacco: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.commessa?.distacco }}" readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Costo mese: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.commessa?.costoMese }}" readonly />
            </div>
        </div>
    </div> -->
    <!-- <legend>Date</legend>
    <div class="row">
        <div class="col-md-3">
            <label>Data Inizio: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ this.transformDate(data?.commessa?.dataInizio)}}"
                    readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Data Fine: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ this.transformDate(data?.commessa?.dataFine)}}"
                    readonly />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <label>Tariffa giornaliera: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.commessa?.tariffaGiornaliera  }}" readonly />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <label>Nominativo: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.commessa?.nominativo }}" readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Azienda: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.commessa?.azienda }}" readonly />
            </div>
        </div>
        <div class="col-md-3">
            <label>Azienda di fatturazione interna: </label>
            <div class="form-group">
                <input type="text" class="form-control" value="{{ data?.commessa?.aziendaDiFatturazioneInterna}}"
                    readonly />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <label>Stato: </label>
            <div class="form-group">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" [checked]="data?.commessa?.stato === true"
                        disabled />
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <label>Attesa lavori: </label>
            <div class="form-group">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" [checked]="data?.commessa?.attesaLavori === true"
                        disabled />
                </div>
            </div>
        </div>
    </div> -->
    <button class="btn btn-dark btn-sm rounded-pill shadow-sm" style="background-color: rgb(24, 122, 0); color: white;"
        (click)="delete(data?.anagrafica.id,data?.contratto.id,data?.commessa.id)">Cancella</button>
    <button class="btn btn-dark btn-sm rounded-pill shadow-sm" style="background-color: rgb(24, 122, 0); color: white;"
        [routerLink]="['/modifica-anagrafica',this.id]">Modifica Anagrafica</button>
    <button class="btn btn-dark btn-sm rounded-pill shadow-sm" style="background-color: rgb(24, 122, 0); color: white;"
        [routerLink]="['/lista-anagrafica']">Torna alla lista</button>
  </div>
</body>
</html>
