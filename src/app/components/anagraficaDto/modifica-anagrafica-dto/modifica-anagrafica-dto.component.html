<html>
  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-12">
          <form [formGroup]="anagraficaDto">
            <!-- Campi dell'anagrafica -->
            <div formGroupName="anagrafica">
              <div class="col-12">
                <label for="id" hidden>ID:</label>
                <input type="hidden" id="id" formControlName="id" />
              </div>
              <div class="row">
                <div class="col-12">
                  <h1 style="text-align: center;">Anagrafica</h1>
                </div>
              </div>
              <div class="row">
                <div class="col-3">
                  <label for="attivo">Attivo:</label>
                  <input type="checkbox" id="attivo" formControlName="attivo" />
                </div>
                <div class="col-3">
                  <label for="aziendaTipo">Tipo Azienda:</label>
                  <input type="text" class="form-control" id="aziendaTipo" formControlName="aziendaTipo" />
                </div>
                <div class="col-3">
                  <label for="nome">Nome:</label>
                  <input type="text" class="form-control" id="nome" formControlName="nome" />
                </div>
                <div class="col-3">
                  <label for="cognome">Cognome:</label>
                  <input type="text" class="form-control" id="cognome" formControlName="cognome" />
                </div>

              </div>
            <div class="row">
              <div class="col-3">
                <label for="codiceFiscale">Codice Fiscale:</label>
                <input type="text" class="form-control" id="codiceFiscale" formControlName="codiceFiscale" />
              </div>
              <div  class="col-3">
                <label for="comuneDiNascita">Comune di Nascita:</label>
                <input type="text" class="form-control" id="comuneDiNascita" formControlName="comuneDiNascita" />
              </div>
              <div class="col-3">
                <label for="dataDiNascita">Data di Nascita:</label>
                <input type="text" class="form-control" id="dataDiNascita" formControlName="dataDiNascita" />
              </div>
              <div class="col-3">
                <label for="residenza">Residenza:</label>
                <input type="text" class="form-control" id="residenza" formControlName="residenza" />
              </div>
            </div>

            <div class="row">
              <div class="col-3">
                <label for="domicilio">Domicilio:</label>
                <input type="text" class="form-control" id="domicilio" formControlName="domicilio" />
              </div>
              <div class="col-3">
                <label for="cellularePrivato">Cellulare Privato:</label>
                <input type="text" class="form-control" id="cellularePrivato" formControlName="cellularePrivato" />
              </div>
              <div class="col-3">
                <label for="cellulareAziendale">Cellulare Aziendale:</label>
                <input type="text" class="form-control" id="cellulareAziendale" formControlName="cellulareAziendale" />
              </div>
              <div class="col-3">
                <label for="mailPrivata">Mail Privata:</label>
                <input type="text" class="form-control" id="mailPrivata" formControlName="mailPrivata" />
              </div>
            </div>

            <div class="row">
              <div class="col-3">
                <label for="mailAziendale">Mail Aziendale:</label>
                <input type="text" class="form-control" id="mailAziendale" formControlName="mailAziendale" />
              </div>
              <div class="col-3">
                <label for="mailPec">Mail PEC:</label>
                <input type="text" class="form-control" id="mailPec" formControlName="mailPec" />
              </div>
              <div class="col-3">
                <label for="titoloDiStudio">Titolo di Studio:</label>
                <input type="text" class="form-control" id="titoloDiStudio" formControlName="titoloDiStudio" />
              </div>
              <div class="col-3">
                <label for="altriTitoli">Altri Titoli:</label>
                <input type="text" class="form-control" id="altriTitoli" formControlName="altriTitoli" />
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-6">
                <label for="coniugato">Coniugato:</label>
                <input type="checkbox" id="coniugato" formControlName="coniugato" />
              </div>
              <div class="col-6">
                <label for="figliAcarico">Figli a Carico:</label>
                <input type="checkbox" id="figliAcarico" formControlName="figliAcarico" />
              </div>
            </div>
            </div>

            <!-- Sezione delle commesse -->

            <!-- <div formArrayName="commesse">
              <div class="row" *ngFor="let commessa of elencoCommesse let i = index" [formGroupName]="i">
                <div class="row">
                  <div class="col-12">
                    <h2>Commessa {{ i + 1 }}</h2>
                  </div>
                </div>
                <div class="row">
                  <div class="col-3">
                    <label for="">Cliente</label>
                    <input type="text" formControlName="cliente" id="cliente{{i}}" class="form-control">
                  </div>
                  <div class="col-3">
                    <label for="">Cliente finale</label>
                    <input type="text" formControlName="clienteFinale" id="clienteFinale{{i}}" class="form-control">
                  </div>
                  <div class="col-3">
                    <label for="titoloPosizione">Titolo Posizione:</label>
                    <input type="text" formControlName="titoloPosizione" id="titoloPosizione{{i}}" class="form-control">
                  </div>
                  <div class="col-3">
                    <label for="distacco">Distacco:</label>
                    <input type="text" formControlName="distacco" id="distacco{{i}}" class="form-control">
                  </div>
                </div>

                <div class="row">
                  <div class="col-3">
                    <label for="dataInizio">Data Inizio:</label>
                    <input type="text" formControlName="dataInizio" id="dataInizio{{i}}" class="form-control">
                  </div>
                  <div class="col-3">
                    <label for="dataFine">Data Fine:</label>
                    <input type="text" formControlName="dataFine" id="dataFine{{i}}" class="form-control">
                  </div>
                  <div class="col-3">
                    <label for="costoMese">Costo Mese:</label>
                    <input type="text" formControlName="costoMese" id="costoMese{{i}}" class="form-control">
                  </div>
                  <div class="col-3">
                    <label for="tariffaGiornaliera">Tariffa Giornaliera:</label>
                    <input type="text" formControlName="tariffaGiornaliera" id="tariffaGiornaliera{{i}}" class="form-control">
                  </div>
                  <div class="col-3">
                    <label for="nominativo">nominativo</label>
                    <input type="text" formControlName="nominativo" id="nominativo{{i}}" class="form-control">
                  </div>
                </div>

                <div class="row">
                  <div class="col-3">
                    <label for="azienda">azienda</label>
                    <input type="text" formControlName="azienda" id="azienda{{i}}" class="form-control">
                  </div>
                  <div class="col-3">
                    <label for="azienda">aziendaDiFatturazioneInterna</label>
                    <input type="text" formControlName="aziendaDiFatturazioneInterna" id="aziendaDiFatturazioneInterna{{i}}" class="form-control">                  </div>
                  <div class="col-3">

                <label for="stato">stato</label>
                <input type="checkbox" formControlName="stato" id="stato{{i}}" >

              </div>
                  <div class="col-3">
                    <label for="attesaLavori">Attesa lavori</label>
                    <input type="checkbox" formControlName="attesaLavori" id="attesaLavori{{i}}" >                  </div>
                </div>

                <div class="row">
                  <div class="col-4">
                    <button type="button" (click)="removeCommessa(i)">Rimuovi Commessa</button>
                  </div>
                </div>
              </div>
            </div> -->




            <div class="row">
              <div class="col-12"  *ngFor="let commessa of elencoCommesse; let i=index">

                <!-- <button mat-flat-button *ngIf="elencoCommesse.length <1" color="primary" (click)="creaFormCommessa(commessa)" >Aggiungi commessa <i class="fa fa-plus" ></i> </button> -->
                <form [formGroup]="getCommessaFormGroup(i)">
                  <h1 style="text-align:center">Commessa {{i+1}}</h1>
                  <div class="row">
                    <div class="col-3">
                      <label for="cliente">Cliente</label> <br>
                      <input type="text" id="cliente{{i}}" placeholder="Cliente" name="cliente{{i}}"  class="form-control" [value]="commessa.cliente">
                    </div>
                    <div class="col-3">
                      <label for="clienteFinale">Cliente finale</label> <br>
                      <input type="text" class="form-control" placeholder="Cliente finale" name="clienteFinale{{i}}"  id="clienteFinale{{i}}" [value]="commessa.clienteFinale">
                    </div>
                    <div class="col-3">
                      <label for="titoloPosizione">Titolo posizione</label> <br>
                      <input type="text" id="titoloPosizione{{i}}" placeholder="Titolo posizione" class="form-control"  name="titoloPosizione{{i}}" [value]="commessa.titoloPosizione">
                    </div>
                    <div class="col-3">
                      <label for="distacco">Distacco</label> <br>
                      <input type="text" placeholder="Distacco" id="distacco{{i}}" name="distacco{{i}}" class="form-control"  [value]="commessa.distacco">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-3">
                      <input type="text" placeholder="Formato accettato: yyyy - mm - gg"  class="form-control" name="dataInizio{{i}}" id="dataInizio{{i}}" [value]="commessa.dataInizio">
                    </div>
                    <div class="col-3">
                      <input type="text" placeholder="Formato accettato: yyyy - mm - gg" class="form-control"   name="dataFine{{i}}" id="dataInizio{{i}}" [value]="commessa.dataFine">
                    </div>
                    <div class="col-3">
                      <input type="number" id="costoMese{{i}}" class="form-control" name="costoMese{{i}}" [value]="commessa.costoMese"  >
                    </div>
                    <div class="col-3">
                      <input type="number" id="tariffaGiornaliera{{i}}" name="tariffaGiornaliera{{i}}" class="form-control" [value]="commessa.tariffaGiornaliera"  >
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-3">
                      <input type="text" id="nominativo{{i}}" name="nominativo{{i}}" class="form-control" [value]="commessa.nominativo" >
                    </div>
                    <div class="col-3">
                      <input type="text" id="azienda{{i}}" name="azienda{{i}}" class="form-control" [value]="commessa.azienda"  >
                    </div>
                    <div class="col-3">
                      <input type="text" id="aziendaDiFatturazioneInterna{{i}}" name="aziendaDiFatturazioneInterna{{i}}" class="form-control" [value]="commessa.aziendaDiFatturazioneInterna"  >
                    </div>

                  </div>
                  <div class="row">
                    <div class="col-5">
                      <input type="checkbox" id="stato{{i}}" name="stato{{i}}"  [value]="commessa.stato" [checked]="commessa.stato==true">
                    </div>
                    <div class="col-5">
                      <input type="checkbox" id="attesaLavori{{i}}" name="attesaLavori{{i}}"  [value]="commessa.attesaLavori" [checked]="commessa.attesaLavori==true">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-12">
                      <button mat-flat-button color="primary" (click)="creaFormCommessa(commessa)"> <i class="fa fa-plus" ></i> </button> &nbsp;
                      <button mat-flat-button color="accent" type="button" [disabled]="elencoCommesse.length===1" (click)="removeCommessa(i)"> <i class="fa fa-trash" ></i> </button>
                    </div>
                  </div>
                </form>



              </div>
            </div>
            <br>
            <div formGroupName="contratto">

              <div class="row">
                <div class="col-3">
                  <div formGroupName="tipoContratto">
                    <label for="tipoContratto">Tipo Contratto</label>
                    <select
                      class="form-control"
                      id="contratto.tipoContratto.id"
                      formControlName="id"
                    >
                      <option value="">--nessuna selezione--</option>
                      <option
                        *ngFor="let tipoContratto of tipiContratti"
                        [value]="tipoContratto.id"
                      >
                        {{ tipoContratto.descrizione }}
                      </option>
                    </select>
                  </div>
                </div>
                <div class="col-3">
                  <div formGroupName="livelloContratto">
                    <label for="livelloContratto">Livello Contratto</label>
                    <select
                      class="form-control"
                      id="contratto.livelloContratto.id"
                      formControlName="id"
                      type="number"
                    >
                      <option value="">--nessuna selezione--</option>
                      <option
                        *ngFor="let livelloContratto of livelliContratti"
                        [value]="livelloContratto.id"
                      >
                        {{ livelloContratto.descrizione }}
                      </option>
                    </select>
                  </div>
                </div>
                <div class="col-3">
                  <div formGroupName="tipoAzienda">
                    <label for="tipoAzienda">Tipo Azienda</label>
                    <select
                      class="form-control"
                      id="contratto.tipoAzienda.id"
                      formControlName="id"
                      type="number"
                    >
                      <option value="">--nessuna selezione--</option>
                      <option
                        *ngFor="let tipoAzienda of tipiAziende"
                        [value]="tipoAzienda.id"
                      >
                        {{ tipoAzienda.descrizione }}
                      </option>
                    </select>
                  </div>
                </div>
                <div class="col-3">
                  <div formGroupName="ccnl">
                    <label for="ccnl">Contratto Nazionale</label>
                    <select
                      class="form-control"
                      id="contratto.ccnl.id"
                      formControlName="id"
                      type="number"
                    >
                      <option value="">--nessuna selezione--</option>
                      <option
                        *ngFor="let contrattoNazionale of ccnl"
                        [value]="contrattoNazionale.id"
                      >
                        {{ contrattoNazionale.descrizione }}
                      </option>
                    </select>
                  </div>
                </div>
              </div>
              <br>
              <div class="row">
                <div class="row">
                  <div class="col-md-3">
                    <label>Qualifica: </label>
                    <div class="form-group">
                      <input
                        type="text"
                        class="form-control"
                        value="{{ data?.contratto?.qualifica }}"
                        formControlName="qualifica"
                      />
                    </div>
                  </div>
                  <div class="col-md-3">
                    <label>Sede Assunzione: </label>
                    <div class="form-group">
                      <input
                        type="text"
                        class="form-control"
                        value="{{ data?.contratto?.sedeAssunzione }}"
                        formControlName="sedeAssunzione"
                      />
                    </div>
                  </div>
                  <div class="col-md-3">
                    <label>Data Assunzione: </label>
                    <div class="form-group">
                      <input
                        type="date"
                        class="form-control"
                        [value]="transformDate(data?.contratto?.dataAssunzione)"
                        formControlName="dataAssunzione"
                      />
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                  <label>Data inizio prova:</label>
                  <div class="form-group">
                    <input
                      type="date"
                      class="form-control"
                      [value]="transformDate(data?.contratto?.dataInizioProva)"
                      formControlName="dataInizioProva"
                    />
                  </div>
                </div>
                <div class="col-md-3">
                  <label>Data fine Prova: </label>
                  <div class="form-group">
                    <input
                      type="date"
                      class="form-control"
                      [value]="transformDate(data?.contratto?.dataFineProva)"
                      formControlName="dataFineProva"
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                  <label>Data Fine Rapporto: </label>
                  <div class="form-group">
                    <input
                      type="date"
                      class="form-control"
                      [value]="transformDate(data?.contratto?.dataFineRapporto)"
                      formControlName="dataFineRapporto"
                    />
                  </div>
                </div>
                <div class="col-md-3">
                  <label>Mesi Durata: </label>
                  <div class="form-group">
                    <input
                      type="text"
                      class="form-control"
                      value="{{ data?.contratto?.mesiDurata }}"
                      formControlName="mesiDurata"
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                  <label class="form-check-label">Dimissioni: </label>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      style="border-color: black"
                      [checked]="data?.contratto?.dimissioni === true"
                      formControlName="dimissioni"
                    />
                  </div>
                </div>
                <div class="col-md-3">
                  <label class="form-check-label">Part Time: </label>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      style="border-color: black"
                      [checked]="data?.contratto?.partTime === true"
                      formControlName="partTime"
                    />
                  </div>
                </div>
                <div class="col-md-3">
                  <label class="form-check-label">Part Time A: </label>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      style="border-color: black"
                      [checked]="data?.contratto?.partTimeA === true"
                      formControlName="partTimeA"
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                  <label>Retribuzione Mensile Lorda: </label>
                  <div class="form-group">
                    <input
                      type="text"
                      class="form-control"
                      value="{{ data?.contratto?.retribuzioneMensileLorda }}"
                      formControlName="retribuzioneMensileLorda"
                    />
                  </div>
                </div>
                <div class="col-md-3">
                  <label>Superminimo Mensile: </label>
                  <div class="form-group">
                    <input
                      type="text"
                      class="form-control"
                      value="{{ data?.contratto?.superminimoMensile }}"
                      formControlName="superminimoMensile"
                    />
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-3">
                  <label>RAL Annua: </label>
                  <div class="form-group">
                    <input
                      type="text"
                      class="form-control"
                      value="{{ data?.contratto?.ralAnnua }}"
                      formControlName="ralAnnua"
                    />
                  </div>
                </div>
                <div class="col-md-3">
                  <label>Supermionimo RAL: </label>
                  <div class="form-group">
                    <input
                      type="text"
                      class="form-control"
                      value="{{ data?.contratto?.superminimoRal }}"
                      formControlName="superminimoRal"
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                  <label>Diaria Mensile: </label>
                  <div class="form-group">
                    <input
                      type="text"
                      class="form-control"
                      value="{{ data?.contratto?.diariaMese }}"
                      formControlName="diariaMese"
                    />
                  </div>
                </div>
                <div class="col-md-3">
                  <label>Diaria Giornaliera: </label>
                  <div class="form-group">
                    <input
                      type="text"
                      class="form-control"
                      value="{{ data?.contratto?.diariaGg }}"
                      formControlName="diariaGg"
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                  <label>Ticket: </label>
                  <div class="form-group">
                    <input
                      type="text"
                      class="form-control"
                      value="{{ data?.contratto?.ticket }}"
                      formControlName="ticket"
                    />
                  </div>
                </div>
                <div class="col-md-3">
                  <label>Valore Ticket: </label>
                  <div class="form-group">
                    <input
                      type="text"
                      class="form-control"
                      value="{{ data?.contratto?.valoreTicket }}"
                      formControlName="valoreTicket"
                    />
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <label class="form-check-label">Categoria Protetta: </label>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    style="border-color: black"
                    [checked]="data?.contratto?.categoriaProtetta === true"
                    formControlName="categoriaProtetta"
                  />
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                  <label>Tutor: </label>
                  <div class="form-group">
                    <input
                      type="text"
                      class="form-control"
                      value="{{ data?.contratto?.tutor }}"
                      formControlName="tutor"
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                  <label>PFI: </label>
                  <div class="form-group">
                    <input
                      type="text"
                      class="form-control"
                      value="{{ data?.contratto?.pfi }}"
                      formControlName="pfi"
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                  <label>Corso di Sicurezza: </label>
                  <div class="form-group">
                    <input
                      type="text"
                      class="form-control"
                      value="{{ data?.contratto?.corsoSicurezza }}"
                      formControlName="corsoSicurezza"
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                  <label>Motivazione Fine Rapporto: </label>
                  <div class="form-group">
                    <input
                      type="text"
                      class="form-control"
                      value="{{ data?.contratto?.motivazioneFineRapporto }}"
                      formControlName="motivazioneFineRapporto"
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                  <label>Scatti Anzianita: </label>
                  <div class="form-group">
                    <input
                      type="text"
                      class="form-control"
                      value="{{ data?.contratto?.scattiAnzianita }}"
                      formControlName="scattiAnzianita"
                    />
                  </div>
                </div>
                <div class="col-md-3">
                  <label>PC: </label>
                  <div class="form-group">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      style="border-color: black"
                      [checked]="data?.contratto?.pc"
                      formControlName="pc"
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="form-group">
                  <label>Tariffa Partita IVA: </label>
                  <div class="col-md-3">
                    <input
                      type="text"
                      class="form-control"
                      value="{{ data?.contratto?.tariffaPartitaIva }}"
                      formControlName="tariffaPartitaIva"
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                  <label>Canale Reclutamento: </label>
                  <div class="form-group">
                    <input
                      type="text"
                      class="form-control"
                      value="{{ data?.contratto?.canaleReclutamento }}"
                      formControlName="canaleReclutamento"
                    />
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <label>Attivo: </label>
                <div class="form-group">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    style="border-color: black"
                    [checked]="data?.contratto?.attivo"
                    formControlName="attivo"
                  />
                </div>
              </div>

            </div>

            <!-- Pulsante per inviare il form -->
            <button mat-flat-button (click)="aggiorna()">Invia</button>
            <br>
            <br>
            <br>
          </form>




        </div>
      </div>
    </div>
  </body>
</html>
<!--tutto quello che ha contrattoNazionale diventa ccnl-->
