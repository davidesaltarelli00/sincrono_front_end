<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div
      class="container-toolbar"
      [hidden]="tokenProvvisorio != null && tokenProvvisorio == null"
    >
      <mat-toolbar id="toolbar" *ngIf="jsonData && jsonData.list">
        <a [routerLink]="['/home']" class="logo-link">
          <img
            class="logo-image"
            width="40"
            height="40"
            src="../../../../assets/images/logo.jpeg"
            alt="Logo"
          />
        </a>
        <div class="toolbar-menu">
          <a
            (click)="getPermissions(menuItem.id)"
            style="color: white"
            class="toolbar-link"
            *ngFor="let menuItem of jsonData.list"
            [routerLink]="[menuItem.percorso]"
          >
            {{ menuItem.nome }}
          </a>
        </div>
        <span
          style="cursor: pointer"
          mat-icon-button
          [routerLink]="['/profile-box']"
          class="user-icon"
        >
          <small *ngIf="userRoleNav === false"
            >{{ userLoggedName }} {{ userLoggedSurname }} (Admin) &nbsp;</small
          >
          <small *ngIf="userRoleNav === true"
            >{{ userLoggedName }} {{ userLoggedSurname }} (Dipendente)
            &nbsp;</small
          >
          <i class="fa fa-user"></i>
        </span>
        &nbsp;&nbsp;
        <span
          style="cursor: pointer"
          mat-icon-button
          (click)="logout()"
          class="logout-icon"
        >
          <i class="fa fa-sign-out" aria-hidden="true"></i>
        </span>
      </mat-toolbar>
    </div>
    <div class="container-fluid">
      <div class="row">
        <div class="col-12">
          <header>
            <h1>Verifica rapportino</h1>
          </header>
        </div>
      </div>
      <br>
      <div class="row">
        <div class="col-12">
          <mat-card>
            <mat-card-content>
              <div class="row">
                <div class="col-12">
                  <table class="table table-bordered table-excel">
                    <tbody>
                      <tr>
                        <td style="background-color: #007bff; color: white">
                          <strong>Periodo di riferimento</strong>
                        </td>
                        <td
                          style="
                            background-color: #ffff99;
                            color: black;
                            text-align: center;
                          "
                        >
                          <strong id="currentMonthYear"
                            >{{ mese }} - {{ anno }}
                          </strong>
                        </td>
                        <td style="background-color: #007bff; color: white">
                          <strong
                            >Giorni utili di lavoro
                            <i
                              class="fa fa-info-circle"
                              style="cursor: pointer"
                              matTooltip="La cella si popolerÃ¡ in base al mese del rapportino caricato."
                            ></i>
                          </strong>
                        </td>
                      </tr>
                      <tr>
                        <td style="background-color: #007bff; color: white">
                          <strong>Nome</strong>
                        </td>
                        <td style="background-color: #ffff99; color: black">
                          {{ nome }}
                        </td>
                        <td
                          style="
                            background-color: #ffff99;
                            color: black;
                            text-align: center;
                          "
                          rowspan="2"
                        >
                          {{ giorniUtili }}
                        </td>
                      </tr>
                      <tr>
                        <td style="background-color: #007bff; color: white">
                          <strong>Cognome</strong>
                        </td>
                        <td style="background-color: #ffff99; color: black">
                          {{ cognome }}
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
      </div>
      <br>
     <div class="row">
      <div class="col-12">
        <table class="table table-striped table-excel" #editableTable>
          <thead>
            <tr>
              <th>Giorno</th>
              <th>Cliente</th>
              <th>Ore ordinarie</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let giornaliero of rapportinoDto; let i = index">
              <td contenteditable="false">{{ giornaliero.giorno }}</td>
              <td contenteditable="false">{{ giornaliero.cliente }}</td>
              <td contenteditable="false">{{ giornaliero.oreOrdinarie }}</td>
            </tr>
          </tbody>
        </table>
      </div>
     </div>
     <br>
     <div class="row">
      <div class="col-6">
        <div class="form-group">
          <label for="note">Note:</label> <br>
          <textarea name="note" class="form-control" [(ngModel)]="note" id="note" cols="15" rows="5"  ></textarea> <br>
          <button class="btn btn-warning" (click)="aggiungiNote()" [disabled]="note==null" >Salva note <i class="fa fa-save" ></i> </button> &nbsp;
          <button class="btn btn-info" (click)="resetNote()" >Cancella <i class="fa fa-undo" ></i> </button> <br>
        </div>
      </div>
    </div>
    <br><br><br><br><br>
    </div>
  </body>
</html>
