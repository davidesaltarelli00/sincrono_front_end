<html>
<head>
  <style>
    #toolbar {
background-color: #007bff; /* Colore blu aziendale */
color: #ffffff; /* Testo bianco */
display: flex;
background-color: #333;
justify-content: space-between; /* Allinea gli elementi a sinistra e a destra */
align-items: center; /* Allinea verticalmente gli elementi al centro */
}

.logo-link {
margin-right: 10px;
}

.toolbar-menu {
display: flex;
gap: 10px;
background-color: #333;
margin-right:auto;
}

.toolbar-link {
text-decoration: none;
color: #ffffff;
/* padding: 10px; */
}

a{
color: white;
}

.toolbar-link:hover {
color: #d8d8d8;
}

.user-icon,
.logout-icon {
color: #ffffff;
cursor: pointer;
}


#toolbar {
  background-color: #007bff; /* Colore blu aziendale */
  color: #ffffff; /* Testo bianco */
  display: flex;
  background-color: #333;
  justify-content: space-between; /* Allinea gli elementi a sinistra e a destra */
  align-items: center; /* Allinea verticalmente gli elementi al centro */
}

.logo-link {
  margin-right: 10px;
}

.toolbar-menu {
  display: flex;
  gap: 10px;
  background-color: #333;
  margin-right:auto;
}

.toolbar-link {
  text-decoration: none;
  color: #ffffff;
  /* padding: 10px; */
}

a{
  color: white;
}

.toolbar-link:hover {
  color: #d8d8d8;
}

.user-icon,
.logout-icon {
  color: #ffffff;
  cursor: pointer;
}


  </style>
</head>
<body>
  <div
  class="container-toolbar"
  [hidden]="tokenProvvisorio != null && tokenProvvisorio == null"
>
<mat-toolbar id="toolbar" *ngIf="token">
  <a [routerLink]="['/home']" class="logo-link">
    <img class="logo-image" width="40" height="40" src="../../../../assets/images/logo.jpeg" alt="Logo">
  </a>
  <div class="toolbar-menu">
    <a   (click)="getPermissions(menuItem.id)" style="color: white;" class="toolbar-link" *ngFor="let menuItem of jsonData.list" [routerLink]="[menuItem.percorso]">
      {{ menuItem.nome }}
    </a>
  </div>
  <span style="cursor: pointer;" mat-icon-button [routerLink]="['/profile-box']" class="user-icon">
    <small *ngIf="userRoleNav===false">{{userLoggedName}} {{userLoggedSurname}} (Admin) &nbsp;</small>
    <small *ngIf="userRoleNav===true">{{userLoggedName}} {{userLoggedSurname}} (Dipendente) &nbsp;</small> <i class="fa fa-user"></i>
  </span> &nbsp;&nbsp;
  <span style="cursor: pointer;" mat-icon-button (click)="logout()" class="logout-icon">
    <i class="fa fa-sign-out" aria-hidden="true"></i>
  </span>
</mat-toolbar>

</div>
  <div class="container-fluid">
    <h1>Storico Commesse  </h1>
    <!--
      per Anagrafica selezionata   <button class="btn btn-success" style="background-color: rgb(24, 122, 0); color: white;"
      [routerLink]="['/dettaglio-anagrafica/'+id]">Torna al dettaglio</button>
    -->
    <div class="table-responsive">
      <!-- <div class="pagination">
        <ul>
          <li [class.disabled]="currentPage === 1" (click)="goToPage(currentPage - 1)">
            <span> <i class="fa fa-arrow-left" ></i> </span>
          </li>
          <li *ngFor="let page of getPaginationArray()" [class.active]="currentPage === page" (click)="goToPage(page)">
            <span>{{ page }}</span>
          </li>
          <li [class.disabled]="currentPage === getTotalPages()" (click)="goToPage(currentPage + 1)">
            <span> <i class="fa fa-arrow-right" ></i> </span>
          </li>
        </ul>
      </div> -->
        <table class="table table-striped table-bordered">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">Cliente</th>
                    <th scope="col">Cliente Finale</th>
                    <th scope="col">Titolo Posizione</th>
                    <th scope="col">Distacco</th>
                    <th scope="col">Data inizio</th>
                    <th scope="col">Data fine</th>
                    <th scope="col">Tariffa Giornaliera</th>
                    <th scope="col">Azienda di fatturazione interna</th>
                    <th scope="col">Stato</th>
                    <th scope="col">Attesa lavori</th>
                    <th scope="col" >Riattiva commessa</th>

                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let data of lista; let i=index">
                    <td>{{ data.aziendaCliente ? data.aziendaCliente : 'Dato non inserito' }}</td>
                    <td>{{ data.clienteFinale ? data.clienteFinale : 'Dato non inserito' }}</td>
                    <td>{{ data.titoloPosizione  ? data.titoloPosizione : 'Dato non inserito' }}</td>
                    <td>{{ data.distacco ? 'Sì' : 'No'}}</td>
                    <td>{{ this.transformDate(data.dataInizio) }}</td>
                    <td>{{ this.transformDate(data.dataFine) }}</td>
                    <td>{{ data.tariffaGiornaliera  ? data.tariffaGiornaliera : 'Dato non inserito'  }} € </td>
                    <td>{{ data.aziendaDiFatturazioneInterna  ? data.aziendaDiFatturazioneInterna : 'Dato non inserito'  }}</td>
                    <td>{{data.attivo ? 'Attivo' : 'Non attivo'}}</td>
                   <td> {{data.attesaLavori ? 'Sì' : 'No'}}</td>
                   <td> <button class="btn btn-success" (click)="riattivaCommessa(data.id, i)" > <i class="fa fa-file"></i> </button> </td>

            </tbody>
        </table>
        <!-- <div class="pagination">
          <ul>
            <li [class.disabled]="currentPage === 1" (click)="goToPage(currentPage - 1)">
              <span> <i class="fa fa-arrow-left" ></i> </span>
            </li>
            <li *ngFor="let page of getPaginationArray()" [class.active]="currentPage === page" (click)="goToPage(page)">
              <span>{{ page }}</span>
            </li>
            <li [class.disabled]="currentPage === getTotalPages()" (click)="goToPage(currentPage + 1)">
              <span> <i class="fa fa-arrow-right" ></i> </span>
            </li>
          </ul>
        </div> -->

    </div>
  </div>

</body>

</html>
